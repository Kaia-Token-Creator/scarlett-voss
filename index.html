<!-- /demo/index.html (ì…ë ¥ì°½ì€ í•­ìƒ í‘¸í„° ìœ„, ëª¨ë‹¬ í™”ë©´ ì´ˆê³¼ ì‹œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥) -->
<!DOCTYPE html>
<html lang="en">
<head>
	
<script>(function(s){s.dataset.zone='10322128',s.src='https://groleegni.net/vignette.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>	 
<script src="https://3nbf4.com/act/files/tag.min.js?z=10322042" data-cfasync="false" async></script>
	
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LFMWVGLLZD"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-LFMWVGLLZD');
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Chat with Scarlett Voss</title>
  <meta name="description" content="Chat with Scarlett Voss â€” playful, flirty conversation. Tip to unlock unlimited chat and the secret gallery." />
  <link rel="canonical" href="https://scarlett-voss.com/" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#000000" />

  <!-- Open Graph -->
  <meta property="og:title" content="Chat with Scarlett Voss" />
  <meta property="og:description" content="Playful, flirty conversation. Tip to unlock unlimited chat and the secret gallery." />
  <meta property="og:url" content="https://scarlett-voss.com/" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://scarlett-voss.com/voss.jpg" />
  <meta property="og:image:alt" content="Scarlett Voss profile" />
  <meta property="og:site_name" content="Chat with Scarlett Voss" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Chat with Scarlett Voss" />
  <meta name="twitter:description" content="Flirty conversation. Tip to unlock unlimited chat and the secret gallery." />
  <meta name="twitter:image" content="https://scarlett-voss.com/voss.jpg" />

  <!-- Favicons -->
  <link rel="icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />

  <style>
    :root{
      --bg:#000000;
      --hotpink:#ff1493;
      --text:#ff1493;
      /* â–¼ ì…ë ¥ì°½(ì»´í¬ì €) ê³ ì • ë†’ì´ */
      --composerH: 58px;
      /* â–¼ JSê°€ í‘¸í„° ì‹¤ì œ ë†’ì´ë¡œ ì—…ë°ì´íŠ¸ */
      --footerH: 0px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple SD Gothic Neo", "Noto Sans", "Noto Sans KR", sans-serif;
      padding-bottom: calc(var(--composerH) + 12px);
    }
    header, footer{
      text-align:center;
      padding:20px 16px;
    }
    header{
      font-size:clamp(18px,3vw,28px);
      font-weight:700;
      letter-spacing:.3px;
      position:relative; /* í–„ë²„ê±° ì ˆëŒ€ìœ„ì¹˜ ê¸°ì¤€ */
    }
  /* í–„ë²„ê±° ë²„íŠ¼ (í•«í•‘í¬) */
.hamburger{
  position:absolute; right:16px; top:50%; transform:translateY(-50%);
  width:40px; height:40px; border-radius:10px;
  border:none;
  background:transparent;
  cursor:pointer;
  display:grid; place-items:center;
}

    .hamburger span{
  display:block;
  width:20px;
  height:4px;
  background:#FF69B4;
  border-radius:3px;
  margin:4px 0;
  transition:transform .2s ease, opacity .2s ease;
}
    .hamburger:focus-visible{ outline:3px solid #ff6ec7; outline-offset:2px; }

    footer{
      color:#ff7abb;
      font-size:14px;
      line-height:1.5;
      /* â–¼ í•­ìƒ í™”ë©´ ë§¨ ì•„ë˜ ê³ ì • + ë°°ê²½/ê²½ê³„ì„  */
      position:fixed; left:0; right:0; bottom:0;
      background:#000; border-top:1px solid #222;
      z-index:5;
    }

    /* (ë©”ë‰´ë¡œ ì´ë™í–ˆìœ¼ë¯€ë¡œ í‘¸í„° ì½˜í…ì¸ ëŠ” ë¹„ì›€) */
    .footer-cta{
      display:flex; justify-content:center; align-items:center;
      gap:10px; margin-bottom:10px; flex-wrap:wrap;
    }
    .footer-cta button{
      appearance:none; border:none; cursor:pointer;
      background:#FF69B4; color:#000; font-weight:900;
      padding:10px 14px; border-radius:999px; font-size:14px;
      min-width:160px;
      box-shadow: 0 0 18px rgba(255,105,180,.45), 0 6px 20px rgba(0,0,0,.35);
      transition: transform .12s ease, box-shadow .2s ease, filter .2s ease;
      animation: spicyPulse 1.6s ease-in-out infinite;
      position: relative;
    }
    .footer-cta button:active{ transform: translateY(1px); }
    .footer-cta button:hover{ transform: translateY(-1px) scale(1.02); }
    .footer-cta button:focus-visible{
      outline: 3px solid #ff6ec7; outline-offset: 2px; filter: brightness(1.05);
    }

    .shell{
      height:calc(100dvh - 160px);
      max-width:860px;
      margin:0 auto;
      display:flex;
      flex-direction:column;
      gap:12px;
      padding:0 12px 12px;
    }

    .chat{
      flex:1; overflow:auto;
      display:flex; flex-direction:column; gap:14px;
      /* â–¼ í•˜ë‹¨ ì—¬ìœ ëŠ” JSê°€ ë®ì–´ì”€(ì´ˆê¸°ê°’ë§Œ) */
      padding:6px 4px calc(var(--composerH) + 16px);
    }

    .row{ display:flex; align-items:flex-start; gap:10px; width:100%; }
    .row.assistant{ justify-content:flex-start; }
    .row.user{ justify-content:flex-start; flex-direction:row-reverse; }

    .avatar{
      width:38px; height:38px; border-radius:9999px; flex:0 0 38px; overflow:hidden;
      display:grid; place-items:center; background:#ffffff; color:#000; font-weight:700; font-size:12px;
      border:2px solid #ffffff22;
    }
    .avatar.assistant img{ width:100%; height:100%; object-fit:cover; display:block; }
    .avatar.user{ background:#fff; color:#000; }

    .bubble{
      max-width:min(85%, 680px);
      padding:12px 14px; border-radius:16px; line-height:1.5; word-wrap:break-word; white-space:pre-wrap;
      box-shadow:0 2px 8px rgba(0,0,0,.35);
      border:1px solid #ffffff10;
      font-size:16px;
    }
    .assistant .bubble{ background:var(--hotpink); color:#000; }
    .user .bubble{ background:#ffffff; color:#000; }

    /* â–¼ ì…ë ¥ì°½ì„ ìŠ¬ë¦¼ + í‘¸í„° ìœ„ë¡œ ë„ì›€(ë³€ìˆ˜ë¡œ ì œì–´) */
    .composer{
      position:fixed; left:0; right:0;
      bottom:var(--footerH);
      height:var(--composerH);
      background:linear-gradient(180deg, rgba(0,0,0,0) 0%, #000 30%);
      padding:6px 10px;
      display:flex; align-items:center; justify-content:center;
      border-top:1px solid #222;
      z-index:6; /* í‘¸í„°ë³´ë‹¤ ìœ„ */
    }
    .composer .inner{
      width:100%; max-width:860px; height:100%;
      display:flex; align-items:center; gap:6px;
      background:#0a0a0a; border:1px solid #222; border-radius:999px; padding:6px;
    }
    #msg{
      flex:1; border:none; outline:none; background:transparent; color:#fff;
      font-size:15px; line-height:1.2; padding:6px 8px;
    }
    #send{
      background:var(--hotpink); color:#000; border:none; border-radius:999px;
      font-weight:800; padding:8px 12px;
      cursor:pointer;
    }
    #send:disabled{ opacity:.5; cursor:not-allowed; }

    /* ===== PayPal Tip Modal ===== */
    .modal{
      position:fixed; inset:0; display:none; place-items:center;
      background:rgba(0,0,0,.7); z-index:50; padding:16px;
      overflow:auto;
      -webkit-overflow-scrolling: touch;
    }
    .modal.show{ display:grid; }
    .modal-card{
      position:relative;
      width:min(520px, 96vw); background:#0a0a0a; color:#fff; border:1px solid #222; border-radius:16px;
      padding:20px; box-shadow:0 10px 30px rgba(0,0,0,.6);
      max-height: calc(100dvh - 32px);
      overflow:auto; -webkit-overflow-scrolling: touch; touch-action: pan-y; overscroll-behavior: contain;
    }
    .modal h3{ margin:0 0 8px; color:var(--hotpink) }
    .modal p{ margin:0 0 12px; color:#e9e9e9 }
    .modal .rowx{ display:flex; gap:10px; align-items:center; margin:8px 0 16px }
    .modal input{ width:120px; padding:8px 10px; border-radius:10px; border:1px solid #333; background:#111; color:#fff; }
    .paypal-wrap{ margin-top:10px }

    .modal-close{
      position:absolute; top:10px; right:10px;
      width:32px; height:32px; border-radius:999px; border:1px solid #333;
      background:#111; color:#fff; cursor:pointer;
      font-weight:900; line-height:1;
    }

    /* í–„ë²„ê±° ì‚¬ì´ë“œ ë©”ë‰´ (ìš° â†’ ì¢Œ) */
    .drawer{
      position:fixed; inset:0; display:none; z-index:60;
    }
    .drawer.show{ display:block; }
    .drawer .backdrop{
      position:absolute; inset:0; background:rgba(0,0,0,.6);
    }
    .drawer .panel{
      position:absolute; right:0; top:0; height:100%;
      width:min(420px, 92vw); background:#0a0a0a; color:#fff; border-left:1px solid #222;
      transform:translateX(100%); transition:transform .25s ease;
      padding:20px; overflow:auto; -webkit-overflow-scrolling:touch;
    }
    .drawer.show .panel{ transform:translateX(0%); }
    .drawer .panel .menu-head{
      display:flex; align-items:center; justify-content:space-between; margin-bottom:12px;
    }
    .drawer .panel .menu-title{ font-weight:800; color:#FF69B4; }
    .drawer-close{
      width:32px; height:32px; border-radius:999px; border:1px solid #333;
      background:#111; color:#fff; cursor:pointer; font-weight:900; line-height:1;
    }

    @keyframes spicyPulse{
      0%,100%{ box-shadow: 0 0 16px rgba(255,20,147,.4), 0 6px 20px rgba(0,0,0,.35); }
      50%{ box-shadow: 0 0 28px rgba(255,20,147,.75), 0 10px 26px rgba(0,0,0,.45); }
    }
 #sideMenu .panel > div + div { margin-top: 20px; }
  </style>

  <!-- PayPal JS SDK: client-id êµì²´ í•„ìš” -->
  <script src="https://www.paypal.com/sdk/js?client-id=AW41UQ3EzJV10FZHqYPy8yqdlDbklB4VjuT6hzu7DVoS-G9cJgKx9nHfxCRZpVSgs1dczhkPj4oM0VXv&currency=USD"></script>
</head>
<body>
  <header>
    Chat with scarlett
    <!-- í–„ë²„ê±° ë²„íŠ¼ -->
    <button id="menuToggle" class="hamburger" aria-label="Open menu" aria-controls="sideMenu" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>
  </header>

  <main class="shell">
    <section id="chat" class="chat" aria-live="polite"></section>
  </main>

  <div class="composer">
    <div class="inner">
      <input id="msg" type="text" placeholder="Type your messageâ€¦" autocomplete="off" />
      <button id="send">Send</button>
    </div>
  </div>

  <!-- PayPal Tip Modal -->
  <div id="tipModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="tipTitle">
    <div class="modal-card">
      <button class="modal-close" id="tipClose" aria-label="Close modal">Ã—</button>
      <h3 id="tipTitle">Want 18+ chat with Scarlett?</h3>

		<div style="font-weight:700; text-align:center; margin-bottom:12px;">
  100% Safe / Anonymous / No Log-in
</div>
      <p id="tipDesc">Tip only $6.9 and Enjoy uncensored hot conversation.</p>

      <!-- âœ… spicyì¼ ë•Œë§Œ ë³´ì—¬ì¤„ ë¬¸ë‹¨ë“¤: ê¸°ì¡´ ë¬¸êµ¬ ê·¸ëŒ€ë¡œ + ê°ì‹¸ê¸°ë§Œ ì¶”ê°€ -->
      <div id="tipExtra" style="display:block;">
        <p>Once you pay, you receive a permanent access link and can chat unlimited times. forever.</p>
        <p>Don't worry, it will appear as 'practice language' on the payment statement.</p>
        <p>You'll be automatically verified as an adult once you leave a tip.</p>
        <p>You're going to love it. I swear.</p>
		<p>Hotter Scarlett is waiting for you. Enjoy right now.</p>
      </div>

      <div class="rowx">
        <label for="tipAmount">Tip (USD):</label>
        <input id="tipAmount" type="number" min="1" step="1" value="6.9" />
      </div>
      <div class="paypal-wrap" id="paypal-buttons"></div>
    </div>
  </div>

  <!-- Profile Modal (draggable) -->
  <div id="profileModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="profileTitle" style="display:none;">
    <div class="modal-card" id="profileCard" style="position:absolute; max-width:520px;">
      <button class="modal-close" id="profileClose" aria-label="Close profile">Ã—</button>
      <div class="drag-handle" id="profileDragHandle" style="cursor:move; margin:-8px -8px 12px; padding:8px; border-radius:12px; background:#111; border:1px solid #222;">
        <h3 id="profileTitle" style="margin:0; color:#ff69b4;">Profile</h3>
      </div>

      <div style="display:flex; gap:16px; align-items:flex-start;">
        <img src="https://scarlett-voss.com/voss.jpg" alt="Scarlett Voss" class="profile-avatar"
             style="width:110px; height:110px; border-radius:9999px; object-fit:cover; border:2px solid #333; flex:0 0 110px;" />
        <div style="line-height:1.6; color:#e9e9e9;">
          <div><strong>Name:</strong> Scarlett Voss</div>
          <div><strong>Age:</strong> 21</div>
          <div><strong>Location:</strong> New York City</div>
          <div><strong>Blood Type:</strong> A</div>
          <div><strong>Height:</strong> 167 cm (5â€™6â€)</div>
          <div><strong>Weight:</strong> 50 kg (110 lbs)</div>
          <div><strong>Body Measurements:</strong> 34C â€“ 23 â€“ 34 (inches)</div>
          <div><strong>Hair Color:</strong> Golden Blonde</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ì˜¤ë¥¸ìª½ ìŠ¬ë¼ì´ë“œ ë©”ë‰´ (í‘¸í„° ë‚´ìš© ì´ê´€) -->
  <aside id="sideMenu" class="drawer" aria-hidden="true">
    <div class="backdrop" id="menuBackdrop"></div>
    <div class="panel" role="dialog" aria-label="Menu">
      <div class="menu-head">
        <div class="menu-title">Menu</div>
        <button class="drawer-close" id="menuClose" aria-label="Close menu">Ã—</button>
      </div>

      <!-- â–¼ ì›ë˜ í‘¸í„°ì— ìˆë˜ ë‚´ìš© ê·¸ëŒ€ë¡œ -->
      <div class="footer-cta">
        <button id="openCoffeeFromFooter" aria-label="Buy Scarlett a coffee">Buy Scarlett a coffeeâ˜•ğŸ’–</button>
        <button id="openTipFromFooter" aria-label="Make Scarlett Spicy">Make Scarlett SpicyğŸŒ¶ï¸ +18</button>
      </div>

      <div style="color:#ff7abb; margin-bottom:8px;">
        If you make me spicy, You can get hint for Scarlettâ€™s secret galleryğŸ’–
      </div>
      <div id="openProfile" style="color:#ff7abb; margin-top:16px; text-decoration:underline; cursor:pointer;">profile</div>
      <div>
        <a href="https://www.instagram.com/scarlett_voss_com" class="insta-link" style="color:#ff7abb" target="_blank">my instagram</a>
      </div>
      <div>
        <a href="https://scarlett-voss.com/vpn" class="vpn-link" style="color:#ff7abb" target="_blank">Want to explore the world anonymously?</a>
      </div>
      <div>
        <a href="https://2048globl.com" class="2048-link" style="color:#ff7abb" target="_blank">Addictive game</a>
      </div>
      <div>
        <a href="https://partner.bitget.com/bg/J6RM1E" class="bitget-link" style="color:#ff7abb" target="_blank">Start coin trading</a>
      </div>
      <div>
        <a href="https://t.me/lookingforglobalfriends" class="tg-link" style="color:#ff7abb" target="_blank">TG room for global friends</a>
      </div>
      <div>
        <a href="https://otieu.com/4/10322138" class="girls-link" style="color:#ff7abb" target="_blank">meet new girls</a>
      </div>
		<div>
        <a href="https://chat-with-stranger.com" class="chat-link" style="color:#ff7abb" target="_blank">chat with stranger</a>
      </div>
    </div>
  </aside>

<script>
/** ------------ Config ------------ **/
const API_PATH = "/api/chat"; // Cloudflare Functions ë¼ìš°íŠ¸

/** ------------ State ------------ **/
const chatEl = document.getElementById("chat");
const msgEl = document.getElementById("msg");
const sendEl = document.getElementById("send");
const tipModal = document.getElementById("tipModal");
const tipTitleEl = document.getElementById("tipTitle");
const tipDescEl = document.getElementById("tipDesc");
const tipExtraEl = document.getElementById("tipExtra"); // âœ… ì¶”ê°€ (spicyìš© ë¬¸ë‹¨ ì»¨í…Œì´ë„ˆ)
const tipAmountEl = document.getElementById("tipAmount");
const paypalWrap = document.getElementById("paypal-buttons");

let tipMode = "spicy"; // 'spicy' | 'coffee'

/** ------------ ì´ˆê¸° ëŒ€í™” ------------ **/
const conversation = []; // ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ëŠ” ì„œë²„ì—ì„œë§Œ ì£¼ì…
// ì²« í™”ë©´ ì¸ì‚¬ í‘œì‹œ(ëŒ€í™” íˆìŠ¤í† ë¦¬ì—ëŠ” ë„£ì§€ ì•ŠìŒ)
(function(){ 
  const row = document.createElement("div");
  row.className = "row assistant";
  row.innerHTML = `
    <div class="avatar assistant">
      <img src="/voss.jpg" alt="Scarlett Voss" />
    </div>
    <div class="bubble">Hello, there?</div>
  `;
  chatEl.appendChild(row);
})();

/** ------------ UI Helpers ------------ **/
function addAssistant(text){
  const row = document.createElement("div");
  row.className = "row assistant";
  row.innerHTML = `
    <div class="avatar assistant">
      <img src="/voss.jpg" alt="Scarlett Voss" />
    </div>
    <div class="bubble">${escapeHtml(text)}</div>
  `;
  chatEl.appendChild(row);
  chatEl.scrollTop = chatEl.scrollHeight;
}

function addUser(text){
  const row = document.createElement("div");
  row.className = "row user";
  row.innerHTML = `
    <div class="avatar user">You</div>
    <div class="bubble">${escapeHtml(text)}</div>
  `;
  chatEl.appendChild(row);
  chatEl.scrollTop = chatEl.scrollHeight;
}

function escapeHtml(s){
  return s.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
}

/** ------------ ë ˆì´ì•„ì›ƒ: ì»´í¬ì €ë¥¼ í•­ìƒ í‘¸í„° ìœ„ë¡œ ------------ **/
function applyLayoutPadding(){
  const footerEl = document.querySelector('footer');
  const composerEl = document.querySelector('.composer');

  const fh = footerEl ? footerEl.offsetHeight : 80;
  const ch = composerEl ? composerEl.offsetHeight :
    parseInt(getComputedStyle(document.documentElement).getPropertyValue('--composerH')) || 58;

  document.documentElement.style.setProperty('--footerH', fh + 'px');

  if (chatEl) chatEl.style.paddingBottom = (fh + ch + 16) + 'px';
}
window.addEventListener('load', applyLayoutPadding);
window.addEventListener('resize', applyLayoutPadding);

/** ------------ Send Logic ------------ **/
async function sendMessage(){
  const text = msgEl.value.trim();
  if (!text) return;

  addUser(text);
  conversation.push({ role: "user", content: text });
  msgEl.value = "";
  sendEl.disabled = true;

  if (/\b(adult|nsfw|spicy|18\+|nude|sex|explicit)\b/i.test(text)) {
    addAssistant("If you want adult chat, press the 'Make Scarlett Spicy' button in the menu. ğŸŒ¶ï¸");
  }

  try{
    const res = await fetch(API_PATH, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        messages: conversation   // ì„œë²„ê°€ system í”„ë¡¬í”„íŠ¸ + deepseek-chatë¡œ ì²˜ë¦¬
      })
    });

    const data = await res.json();
    if (!res.ok || !data?.ok) {
      throw new Error((data && (data.error?.message || data.error)) || ("HTTP " + res.status));
    }

    const reply = data.content || "â€¦";
    addAssistant(reply);
    conversation.push({ role: "assistant", content: reply });
  }catch(err){
    addAssistant("Oops, something went wrong. Please try again.");
    console.error("chat error:", err);
  }finally{
    sendEl.disabled = false;
    msgEl.focus();
  }
}

msgEl.addEventListener("keydown", (e) => {
  if (e.key === "Enter" && !e.shiftKey) {
    e.preventDefault();
    sendMessage();
  }
});
sendEl.addEventListener("click", sendMessage);

/** ------------ Tip Modal / PayPal ------------ **/
function openTipModal(mode = "spicy"){
  tipMode = mode;

  if (tipMode === "coffee") {
    tipTitleEl.textContent = "Buy Scarlett a coffee â˜•";
    tipDescEl.textContent = "Leave any tip you like. I'll be extra sweet to you.";
    tipAmountEl.value = String(3.0);

    // âœ… coffeeëŠ” ììœ  ì…ë ¥ (ì„ íƒì‚¬í•­ ë°˜ì˜)
    tipAmountEl.disabled = false;

    // âœ… coffeeì¼ ë•ŒëŠ” ì•„ë˜ 4ê°œ ë¬¸ë‹¨ ìˆ¨ê¹€
    if (tipExtraEl) tipExtraEl.style.display = "none";
  } else {
    tipTitleEl.textContent = "Want sex chat with Scarlett?";
    tipDescEl.textContent = "Tip only $6.9 and Enjoy uncensored hot conversation.";
    tipAmountEl.value = String(6.9);

    // âœ… spicyëŠ” 6.9 ê³ ì • + ì…ë ¥ ë¹„í™œì„±í™” (ì„ íƒì‚¬í•­ ë°˜ì˜)
    tipAmountEl.disabled = true;

    // âœ… spicyì¼ ë•Œë§Œ ì•„ë˜ 4ê°œ ë¬¸ë‹¨ ë…¸ì¶œ
    if (tipExtraEl) tipExtraEl.style.display = "block";
  }

  paypalWrap.innerHTML = "";
  delete paypalWrap.dataset.rendered;

  tipModal.classList.add("show");
  renderPayPal();
}

function closeTipModal(){
  tipModal.classList.remove("show");
}

function renderPayPal(){
  const wrap = paypalWrap;
  if (wrap.dataset.rendered === "1") return;

  if (!window.paypal) {
    wrap.innerHTML = "<div style='color:#fff'>PayPal is not ready. Check your PAYPAL_CLIENT_ID.</div>";
    return;
  }

  paypal.Buttons({
    style: { layout: "vertical", shape: "rect", label: "paypal" },
    createOrder: (data, actions) => {
      // âœ… coffeeëŠ” ììœ , spicyëŠ” ë¬´ì¡°ê±´ 6.9 ê³ ì •
      let amount;

      if (tipMode === "coffee") {
        const inputVal = document.getElementById("tipAmount").value;
        amount = Math.max(1, Number(inputVal || 3.0));
        return actions.order.create({
          purchase_units: [{
            amount: { value: String(amount), currency_code: "USD" },
            description: "Coffee for Scarlett"
          }]
        });
      } else {
        amount = 6.9;
        return actions.order.create({
          purchase_units: [{
            amount: { value: amount.toFixed(2), currency_code: "USD" },
            description: "Practice language"
          }]
        });
      }
    },
    onApprove: async (data, actions) => {
      try { await actions.order.capture(); } catch(e) { console.warn("PayPal capture error", e); }

      if (tipMode === "coffee") {
        addAssistant("Aww, thank you for the coffee! Youâ€™re the sweetest. â˜•ğŸ’–");
        closeTipModal();
      } else {
        window.location.href = "https://scarlett-voss.com/unlimited/index.html";
      }
    },
    onError: (err) => {
      console.error("PayPal error", err);
      alert("Payment error. Please try again.");
    }
  }).render("#paypal-buttons");

  wrap.dataset.rendered = "1";
}

/** ------------ Footer CTA ì´ë²¤íŠ¸ ------------ **/
document.getElementById("openTipFromFooter")?.addEventListener("click", () => openTipModal("spicy"));
document.getElementById("openCoffeeFromFooter")?.addEventListener("click", () => openTipModal("coffee"));
document.getElementById("tipClose")?.addEventListener("click", closeTipModal);

/** ------------ í–„ë²„ê±° ì‚¬ì´ë“œ ë©”ë‰´ ------------ **/
const sideMenu = document.getElementById("sideMenu");
const menuToggle = document.getElementById("menuToggle");
const menuBackdrop = document.getElementById("menuBackdrop");
const menuClose = document.getElementById("menuClose");

function openMenu(){
  sideMenu.classList.add("show");
  sideMenu.setAttribute("aria-hidden","false");
  menuToggle.setAttribute("aria-expanded","true");
  document.body.style.overflow = "hidden";
}
function closeMenu(){
  sideMenu.classList.remove("show");
  sideMenu.setAttribute("aria-hidden","true");
  menuToggle.setAttribute("aria-expanded","false");
  document.body.style.overflow = "";
}

menuToggle?.addEventListener("click", openMenu);
menuBackdrop?.addEventListener("click", closeMenu);
menuClose?.addEventListener("click", closeMenu);
document.addEventListener("keydown", (e) => {
  if (e.key === "Escape" && sideMenu.classList.contains("show")) closeMenu();
});

/* ===== Profile Modal: open/close/drag ===== */
const profileModal = document.getElementById("profileModal");
const profileCard  = document.getElementById("profileCard");
const profileOpen  = document.getElementById("openProfile");
const profileCloseBtn = document.getElementById("profileClose");
const dragHandle   = document.getElementById("profileDragHandle");

function centerProfileCard() {
  const vw = window.innerWidth, vh = window.innerHeight;
  const rect = profileCard.getBoundingClientRect();
  const left = Math.max(12, (vw - rect.width) / 2);
  const top  = Math.max(12, (vh - rect.height) / 2);
  profileCard.style.left = left + "px";
  profileCard.style.top  = top  + "px";
}

function openProfileModal(){
  profileModal.classList.add("show");
  profileModal.style.display = "grid";
  requestAnimationFrame(centerProfileCard);
}
function closeProfileModal(){
  profileModal.classList.remove("show");
  profileModal.style.display = "none";
}

profileOpen?.addEventListener("click", openProfileModal);
profileCloseBtn?.addEventListener("click", closeProfileModal);

profileModal?.addEventListener("click", (e) => {
  if (e.target === profileModal) closeProfileModal();
});

document.addEventListener("keydown", (e) => {
  if (e.key === "Escape" && profileModal.classList.contains("show")) {
    closeProfileModal();
  }
});

(function enableDrag(){
  let isDown = false;
  let startX = 0, startY = 0;
  let startLeft = 0, startTop = 0;

  function onDown(e){
    isDown = true;
    const rect = profileCard.getBoundingClientRect();
    startLeft = rect.left;
    startTop  = rect.top;
    startX = e.type.startsWith("touch") ? e.touches[0].clientX : e.clientX;
    startY = e.type.startsWith("touch") ? e.touches[0].clientY : e.clientY;
    e.preventDefault();
  }
  function onMove(e){
    if (!isDown) return;
    const x = e.type.startsWith("touch") ? e.touches[0].clientX : e.clientX;
    const y = e.type.startsWith("touch") ? e.touches[0].clientY : e.clientY;
    let nextLeft = startLeft + (x - startX);
    let nextTop  = startTop  + (y - startY);

    const maxLeft = window.innerWidth  - profileCard.offsetWidth  - 8;
    const maxTop  = window.innerHeight - profileCard.offsetHeight - 8;
    nextLeft = Math.min(Math.max(8, nextLeft), Math.max(8, maxLeft));
    nextTop  = Math.min(Math.max(8, nextTop ), Math.max(8, maxTop ));

    profileCard.style.left = nextLeft + "px";
    profileCard.style.top  = nextTop  + "px";
  }
  function onUp(){ isDown = false; }

  dragHandle.addEventListener("mousedown", onDown);
  window.addEventListener("mousemove", onMove);
  window.addEventListener("mouseup", onUp);

  dragHandle.addEventListener("touchstart", onDown, {passive:false});
  window.addEventListener("touchmove", onMove, {passive:false});
  window.addEventListener("touchend", onUp);
})();

window.addEventListener("resize", () => {
  if (profileModal.classList.contains("show")) centerProfileCard();
});
</script>

<footer style="text-align:center;">
  <a href="https://chat-with-stranger.com" target="_blank" rel="noopener" style="color:#ff1493;">
    chat with stranger
  </a><br>
  <a href="https://2048global.com/vpn" target="_blank" rel="noopener" style="color:#ff1493;">
    explore globe anonymously
  </a>
</footer>

</body>
</html>







